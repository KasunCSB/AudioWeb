@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

:root {
  --background: #ffffff;
  --foreground: #171717;
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-geist-sans), var(--font-geist-mono), 'Inter', ui-sans-serif, system-ui, sans-serif;
}

/* Optionally, set font for code blocks or mono elements */
code, pre {
  font-family: var(--font-geist-mono), 'Fira Mono', 'Menlo', monospace;
}

/* Logo Animation Keyframes */
@keyframes pulse-ring {
  0% {
    transform: scale(0.8);
    opacity: 1;
  }
  100% {
    transform: scale(1.5);
    opacity: 0;
  }
}

@keyframes rotate-bars {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes bar-pulse {
  0%, 100% {
    height: 30px;
    opacity: 0.4;
  }
  50% {
    height: 45px;
    opacity: 0.8;
  }
}

@keyframes pulse-glow {
  0% {
    opacity: 0.3;
    transform: scale(0.95);
  }
  100% {
    opacity: 0.6;
    transform: scale(1.05);
  }
}

.pulse-ring-anim {
  animation: pulse-ring 2s ease-out infinite;
}

.rotate-bars-anim {
  animation: rotate-bars 3s linear infinite;
}

.pulse-glow-anim {
  animation: pulse-glow 1.5s ease-in-out infinite alternate;
}

/* Logo speaker bounce animation */
@keyframes speaker-bounce {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.03);
  }
}

/* Fade in animation for visualization elements */
@keyframes fade-in-scale {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Rolling text animation for Now Playing bar (KitKat style) */
@keyframes roll-text-in {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes roll-text-out {
  from {
    transform: translateY(0);
    opacity: 1;
  }
  to {
    transform: translateY(-100%);
    opacity: 0;
  }
}

.roll-text-enter {
  animation: roll-text-in 0.7s cubic-bezier(0.4, 0.0, 0.2, 1);
}

.roll-text-exit {
  animation: roll-text-out 0.7s cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* Smooth fade animations for mini player state changes */
@keyframes fade-pulse {
  0% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(0.98);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes smooth-fade-in {
  from {
    opacity: 0;
    transform: translateY(-2px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-pulse-anim {
  animation: fade-pulse 0.4s ease-in-out;
}

.smooth-fade-in-anim {
  animation: smooth-fade-in 0.3s ease-out;
}

/* Playlist-specific theme-aware scrollbar (only visible inside the playlist popup) */
:root {
  --playlist-scroll-thumb: rgba(0, 0, 0, 0.20);
  --playlist-scroll-track: rgba(0, 0, 0, 0.06);
  --playlist-scroll-thumb-hover: rgba(0, 0, 0, 0.32);
}

@media (prefers-color-scheme: dark) {
  :root {
    --playlist-scroll-thumb: rgba(255, 255, 255, 0.12);
    --playlist-scroll-track: rgba(255, 255, 255, 0.04);
    --playlist-scroll-thumb-hover: rgba(255, 255, 255, 0.20);
  }
}

/* Scoped to the playlist popup so other scrolling remains hidden as before */
.playlist-popup .scroll-content {
  /* Make scrollbar usable and thin */
  overflow-y: auto; /* ensure scroll */
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin; /* Firefox */
  scrollbar-color: var(--playlist-scroll-thumb) var(--playlist-scroll-track); /* Firefox */
}

/* WebKit browsers */
.playlist-popup .scroll-content::-webkit-scrollbar,
.playlist-popup .playlist-scroll-area::-webkit-scrollbar {
  width: 10px;
  height: 10px;
  display: block !important; /* override the global hide */
}

.playlist-popup .scroll-content::-webkit-scrollbar-track,
.playlist-popup .playlist-scroll-area::-webkit-scrollbar-track {
  background: var(--playlist-scroll-track);
  border-radius: 8px;
}

.playlist-popup .scroll-content::-webkit-scrollbar-thumb,
.playlist-popup .playlist-scroll-area::-webkit-scrollbar-thumb {
  background: var(--playlist-scroll-thumb);
  border-radius: 8px;
  border: 2px solid transparent; /* give some spacing */
  background-clip: padding-box;
  transition: background-color 120ms ease, transform 120ms ease;
}

.playlist-popup .scroll-content::-webkit-scrollbar-thumb:hover,
.playlist-popup .playlist-scroll-area::-webkit-scrollbar-thumb:hover {
  background: var(--playlist-scroll-thumb-hover);
  transform: scale(1.02);
}

/* Make sure the scrollbar is accessible when using keyboard focus inside the popup */
.playlist-popup .scroll-content:focus {
  outline: none;
}

/* Ensure the inner playlist scroll area is constrained to available height
   and becomes the primary scroll target. This avoids relying only on the
   popup's generic scroll-content when layout differences prevent overflow. */
.playlist-popup .playlist-scroll-area {
  height: 100%;
  min-height: 0; /* allow children to shrink inside flex */
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: var(--playlist-scroll-thumb) var(--playlist-scroll-track);
}

.playlist-popup .playlist-scroll-area:focus {
  outline: none;
}

/* Keep the scrollbar visually separated from the song items so it doesn't
   overlap text/controls. Use padding-inline-end and fallback padding-right
   with box-sizing to avoid introducing horizontal scroll. Also request the
   browser to reserve gutter space when supported. */
.playlist-popup .playlist-scroll-area {
  box-sizing: border-box;
  padding-inline-end: 12px; /* modern logical property */
  padding-right: 12px; /* fallback */
  scrollbar-gutter: stable both-edges;
}

/* Add a little inner padding to the list wrapper so items don't touch the
   reserved area even if they use full width. */
.playlist-popup .playlist-scroll-area > .space-y-2 {
  padding-right: 6px;
}

/* Remove the resize-handle hover highlight for the playlist popup.
   The ResizablePopup renders small absolute handles (right/bottom/bottom-right)
   that show a hover background; hide that visual in the playlist popup while
   keeping the resize functionality available elsewhere. */
.playlist-popup .cursor-ew-resize,
.playlist-popup .cursor-ns-resize,
.playlist-popup .cursor-nw-resize {
  background: transparent !important;
}

.playlist-popup .cursor-ew-resize:hover,
.playlist-popup .cursor-ns-resize:hover,
.playlist-popup .cursor-nw-resize:hover {
  background: transparent !important;
}


